<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Neon Serpent: Rich Snake</title>
  <link rel="stylesheet" href="styles.css?v=20260225-5" />
</head>
<body>
  <div class="ambient">
    <div class="ambient__ring"></div>
    <div class="ambient__ring ambient__ring--alt"></div>
    <div class="ambient__grid"></div>
  </div>

  <header class="topbar">
    <div class="brand">
      <span class="brand__title">NEON SERPENT</span>
      <span class="brand__tag">多维玩法 · 霓虹竞速 · 高风险高回报</span>
    </div>
    <div class="status">
      <div class="status__group">
        <span class="status__badge" id="statusBadge">READY</span>
        <span class="status__seed" id="seedDisplay">SEED: 0000</span>
      </div>
      <div class="login" aria-label="用户登录">
        <label class="login__label" for="usernameInput">用户名</label>
        <input
          class="login__input"
          id="usernameInput"
          type="text"
          inputmode="text"
          autocapitalize="off"
          autocomplete="off"
          spellcheck="false"
          maxlength="32"
          pattern="[A-Za-z0-9_-]+"
          placeholder="用户名"
          aria-label="输入用户名"
        />
        <button class="btn btn--ghost login__btn" id="loginBtn" type="button">登录</button>
        <span class="login__status" id="loginStatus">未登录</span>
      </div>
    </div>
  </header>

  <nav class="topnav" aria-label="界面导航">
    <button class="nav-btn is-active" data-page-target="main">战局主控</button>
    <button class="nav-btn" data-page-target="contracts">合约目标</button>
    <button class="nav-btn" data-page-target="upgrades">霓晶改造</button>
    <button class="nav-btn" data-page-target="tips">战术提示</button>
  </nav>

  <main class="pages">
    <section class="page page--main layout is-active" data-page="main">
      <section class="playfield">
        <div class="canvas-shell">
          <canvas id="gameCanvas" aria-label="Snake game canvas"></canvas>
          <div class="overlay" id="overlay">
            <div class="overlay__panel">
              <h1>霓虹贪吃蛇</h1>
              <p>点击“启动”或空格继续战斗。</p>
              <button class="btn btn--primary" id="startBtn">启动</button>
            </div>
          </div>
        </div>
        <div class="control-dock" aria-label="快捷控制">
          <div class="touch-controls" id="touchControls" aria-hidden="true">
            <button class="touch-btn touch-btn--up" data-dir="up" aria-label="向上"></button>
            <button class="touch-btn touch-btn--left" data-dir="left" aria-label="向左"></button>
            <button class="touch-btn touch-btn--right" data-dir="right" aria-label="向右"></button>
            <button class="touch-btn touch-btn--down" data-dir="down" aria-label="向下"></button>
          </div>
          <button class="btn btn--ghost control-dock__pause" id="pauseBtn">暂停</button>
        </div>
        <div class="legend">
          <div class="legend__item"><span class="dot dot--food"></span>能量晶体</div>
          <div class="legend__item"><span class="dot dot--bonus"></span>爆燃核心</div>
          <div class="legend__item"><span class="dot dot--toxic"></span>腐蚀残渣</div>
          <div class="legend__item"><span class="dot dot--power"></span>异能模块</div>
          <div class="legend__item"><span class="dot dot--relic"></span>霓晶遗物</div>
          <div class="legend__item"><span class="dot dot--portal"></span>跃迁门</div>
          <div class="legend__item"><span class="dot dot--hazard"></span>离子屏障</div>
        </div>
      </section>

      <aside class="panel">
        <section class="panel__block">
          <h2>战局</h2>
          <div class="stats">
            <div class="stat"><span>分数</span><strong id="scoreDisplay">0</strong></div>
            <div class="stat"><span>最高</span><strong id="bestDisplay">0</strong></div>
            <div class="stat"><span>云端最高</span><strong id="serverBestDisplay">-</strong></div>
            <div class="stat"><span>等级</span><strong id="levelDisplay">1</strong></div>
            <div class="stat"><span>速度</span><strong id="speedDisplay">0</strong></div>
            <div class="stat"><span>倍率</span><strong id="multiplierDisplay">1x</strong></div>
            <div class="stat"><span>连击</span><strong id="comboDisplay">0</strong></div>
          </div>
        </section>

        <section class="panel__block">
          <h2>模式</h2>
          <div class="mode-select">
            <label><input type="radio" name="mode" value="classic" checked /> 经典模式</label>
            <label><input type="radio" name="mode" value="survival" /> 生存模式</label>
            <label><input type="radio" name="mode" value="time" /> 限时模式</label>
          </div>
          <div class="mode-stats">
            <div class="stat"><span>生命</span><strong id="livesDisplay">-</strong></div>
            <div class="stat"><span>剩余时间</span><strong id="timeDisplay">-</strong></div>
          </div>
          <div class="protocol-select">
            <label>
              <input type="radio" name="protocol" value="steady" checked />
              <span>稳态协议</span>
              <em>更安全</em>
            </label>
            <label>
              <input type="radio" name="protocol" value="surge" />
              <span>过载协议</span>
              <em>更高风险</em>
            </label>
            <label>
              <input type="radio" name="protocol" value="sync" />
              <span>连携协议</span>
              <em>连击专精</em>
            </label>
          </div>
        </section>

        <section class="panel__block">
          <h2>异能增幅</h2>
          <div class="effects" id="effectsList">
            <div class="effect effect--empty">尚未激活</div>
          </div>
        </section>

        <section class="panel__block panel__block--skin">
          <h2>皮肤</h2>
          <div class="skin-select">
            <select id="skinSelect" aria-label="Snake skin">
              <option value="neon">霓虹</option>
              <option value="ocean">海洋</option>
              <option value="forest">森林</option>
            </select>
          </div>
        </section>

        <section class="panel__block">
          <h2>控制</h2>
          <div class="controls">
            <label class="toggle">
              <input type="checkbox" id="soundToggle" />
              <span>音效</span>
            </label>
            <label class="toggle">
              <input type="checkbox" id="gridToggle" checked />
              <span>网格</span>
            </label>
          </div>
          <div class="input-modes" role="radiogroup" aria-label="控制模式">
            <label><input type="radio" name="inputMode" value="keyboard" /> 键盘</label>
            <label><input type="radio" name="inputMode" value="touch" /> 触屏</label>
          </div>
          <p class="input-hint">触屏模式会在画面下方显示方向键，并支持画布滑动转向。</p>
        </section>

      </aside>
    </section>

    <section class="page page--contracts" data-page="contracts">
      <div class="page__panel panel">
        <div class="page__header">
          <div>
            <span class="page__eyebrow">Contracts</span>
            <h2 class="page__title">合约目标</h2>
          </div>
          <button class="btn btn--ghost" data-page-target="main">返回战局</button>
        </div>
        <div class="page__content">
          <p class="page__intro">完成合约可获得霓晶与额外分数，越快完成奖励越高。</p>
          <div class="contracts" id="contractsList"></div>
        </div>
      </div>
    </section>

    <section class="page page--upgrades" data-page="upgrades">
      <div class="page__panel panel">
        <div class="page__header">
          <div>
            <span class="page__eyebrow">Upgrades</span>
            <h2 class="page__title">霓晶改造</h2>
          </div>
          <button class="btn btn--ghost" data-page-target="main">返回战局</button>
        </div>
        <div class="page__content">
          <div class="shard-bar">
            <span>霓晶储备</span>
            <strong id="shardDisplay">0</strong>
          </div>
          <div class="upgrades" id="upgradesList"></div>
          <p class="page__note">改造效果永久生效，建议优先提升护盾与连击窗口。</p>
        </div>
      </div>
    </section>

    <section class="page page--tips" data-page="tips">
      <div class="page__panel panel">
        <div class="page__header">
          <div>
            <span class="page__eyebrow">Tactics</span>
            <h2 class="page__title">战术提示</h2>
          </div>
          <button class="btn btn--ghost" data-page-target="main">返回战局</button>
        </div>
        <div class="page__content page__content--grid">
          <section class="panel__block">
            <h2>即时策略</h2>
            <ul class="tips">
              <li>连击越高倍率越强，节奏要快。</li>
              <li>护盾可抵挡一次撞击，别浪费。</li>
              <li>磁力场能吸附附近能量。</li>
              <li>时间模式可通过爆燃核心延时。</li>
            </ul>
          </section>
          <section class="panel__block">
            <h2>协议解读</h2>
            <div class="protocol-cards">
              <div class="protocol-card">
                <strong>稳态协议</strong>
                <span>更安全，护盾起始 +1。</span>
              </div>
              <div class="protocol-card">
                <strong>过载协议</strong>
                <span>高收益高风险，速度提升。</span>
              </div>
              <div class="protocol-card">
                <strong>连携协议</strong>
                <span>连击加成更强，适合节奏流。</span>
              </div>
            </div>
          </section>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div>操作：方向键 / WASD · 空格 / ESC 暂停 · R 重置 · 触屏模式可用方向键/滑动</div>
    <div>收集能量、驾驭异能、突破高阶关卡</div>
  </footer>

  <script type="module" src="main.js?v=20260225-10"></script>
</body>
</html>
